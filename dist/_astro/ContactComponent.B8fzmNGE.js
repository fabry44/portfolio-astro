import{j as e,m as n}from"./proxy.B-0CQNal.js";import{r as i}from"./index.DTD2g3-w.js";const x=()=>{const[t,r]=i.useState({firstName:"",lastName:"",email:"",phone:"",message:""}),[c,l]=i.useState(""),m=async()=>{try{const a=await fetch("/api/get-token",{method:"POST",headers:{"Content-Type":"application/json"}}),s=await a.json();if(!a.ok)throw new Error(s.error||"Erreur d'authentification");return s.access_token}catch(a){return console.error("Erreur lors de la récupération du token:",a.message),null}},d=async a=>{a.preventDefault(),l("Envoi en cours...");const s=await m();if(s)try{const o=await fetch("http://127.0.0.1:8000/api/contact",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(t)}),u=await o.json();o.ok?(l("Message envoyé avec succès !"),r({firstName:"",lastName:"",email:"",phone:"",message:""})):l(`Erreur : ${JSON.stringify(u.errors)}`)}catch(o){console.error("Erreur lors de l'envoi:",o.message),l("Échec de l'envoi du message.")}};return e.jsxs("form",{onSubmit:d,className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"flex flex-wrap mx-3 mb-6",children:[e.jsx("div",{className:"w-full md:w-1/2 px-3 mb-6 md:mb-0",children:e.jsx("input",{type:"text",value:t.firstName,onChange:a=>r({...t,firstName:a.target.value}),className:"block py-2.5 px-0 w-full text-sm text-white bg-transparent border-b-2 border-gray-300 focus:border-blue-600",placeholder:"Prénom",required:!0})}),e.jsx("div",{className:"w-full md:w-1/2 px-3",children:e.jsx("input",{type:"text",value:t.lastName,onChange:a=>r({...t,lastName:a.target.value}),className:"block py-2.5 px-0 w-full text-sm text-white bg-transparent border-b-2 border-gray-300 focus:border-blue-600",placeholder:"Nom",required:!0})})]}),e.jsxs("div",{className:"flex flex-wrap -mx-3 mb-6",children:[e.jsx("div",{className:"w-full md:w-1/2 px-3 mb-6 md:mb-0",children:e.jsx("input",{type:"email",value:t.email,onChange:a=>r({...t,email:a.target.value}),className:"block py-2.5 px-0 w-full text-sm text-white bg-transparent border-b-2 border-gray-300 focus:border-blue-600",placeholder:"Email",required:!0})}),e.jsx("div",{className:"w-full md:w-1/2 px-3",children:e.jsx("input",{type:"tel",value:t.phone,onChange:a=>r({...t,phone:a.target.value}),className:"block py-2.5 px-0 w-full text-sm text-white bg-transparent border-b-2 border-gray-300 focus:border-blue-600",placeholder:"Téléphone",required:!0})})]}),e.jsx("textarea",{value:t.message,onChange:a=>r({...t,message:a.target.value}),className:"block py-2.5 px-0 w-full h-48 text-sm text-white bg-transparent border-2 border-gray-300 focus:border-blue-600",placeholder:"Votre message",required:!0}),e.jsx("button",{type:"submit",className:"bg-blue-500 text-white p-2 mt-2",children:"Envoyer"}),e.jsx("p",{children:c})]})},p={email:"fabienroy2@gmail.com",phone:"0650262098",address:"22 rue des Renardières 44100 Nantes"},h={user:p},y=()=>{const{user:t}=h;return e.jsx(n.section,{initial:{opacity:0,scale:.98,filter:"blur(4px)"},whileInView:{opacity:1,scale:1,filter:"blur(0px)"},transition:{duration:.8,delay:.2,ease:[.42,0,.58,1]},viewport:{once:!1,amount:.2},className:"flex justify-center items-center bg-section relative overflow-hidden",children:e.jsxs(n.div,{className:"flex flex-wrap -mx-3 mb-6 contactsection absolute z-10",initial:{opacity:0,y:40,scale:.9,rotate:-5},whileInView:{opacity:1,y:0,scale:1,rotate:0},transition:{duration:1,ease:"easeOut",delay:.4,staggerChildren:.2},viewport:{once:!0,amount:.2},children:[e.jsx(n.div,{className:"w-full md:w-1/2 px-3 mt-6 mb-6 md:mb-0 p-4",initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.6,delay:.5},children:e.jsx(x,{})}),e.jsx(n.div,{className:"w-full md:w-1/2 px-6 mb-6 md:mb-0 flex justify-center items-center",initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.6,delay:.6},children:e.jsxs("div",{className:"bg-light-secondary text-lg space-y-3 m-auto text-light-text dark:text-dark-text flex flex-col items-start",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Me contacter"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Téléphone :"})," ",t.phone]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email :"}),e.jsx("a",{href:`mailto:${t.email}`,className:"text-light-primary dark:text-dark-primary hover:underline",children:t.email})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Adresse :"})," ",t.address]})]})})]})})};export{y as default};
